# AlmaLinux

## download cloud image

config map을 분리햇다 나중에 쓰기 위함이다.

```sh
kubectl apply -f 2.AlmaLinux-8.10/os-image
```

## template 수정

기존과 같은 hardware.yaml을 사용하고 template만 추가햇다.

일단 cloud image를 가지고 vm을 생성한후 다음 내용을 확인한다.

```sh
lsblk

NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sr0     11:0    1  368K  0 rom
vda    252:0    0   10G  0 disk
├─vda1 252:1    0    1M  0 part
├─vda2 252:2    0  200M  0 part /boot/efi
├─vda3 252:3    0    1G  0 part /boot
└─vda4 252:4    0  8.8G  0 part /
```

/가 4에 있으므로 growpart는 `{{ index .Hardware.Disks 0 }}4`로 바꿔야한다.
